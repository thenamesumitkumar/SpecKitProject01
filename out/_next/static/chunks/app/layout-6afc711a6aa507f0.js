(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2741:function(e,t,r){Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,6148))},6148:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return a},a:function(){return s}});var n=r(7437),o=r(2265);let i=[{email:"employee@company.com",password:"password123",role:"employee",name:"Demo Employee"},{email:"admin@company.com",password:"admin123",role:"admin",name:"Demo Admin"}],l="hr_payroll_session",u=(0,o.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,o.useState)(null),[s,m]=(0,o.useState)(!0);(0,o.useEffect)(()=>{a(function(){let e=localStorage.getItem(l);if(!e)return null;try{let t=JSON.parse(e);if(new Date(t.expiryTime)<new Date)return localStorage.removeItem(l),null;return t.user}catch(e){return null}}()),m(!1)},[]);let c=async(e,t)=>{m(!0);try{let r=function(e,t){let r=function(e,t){let r=i.find(r=>r.email===e&&r.password===t);return{valid:!!r,user:r}}(e,t);return r.valid&&r.user?{valid:!0,user:{id:e.split("@")[0].toUpperCase(),email:e,firstName:r.user.name.split(" ")[0],lastName:r.user.name.split(" ")[1]||"",role:r.user.role}}:{valid:!1}}(e,t);if(!r.valid||!r.user)throw Error("Invalid email or password");let n=function(e){let t=new Date,r=new Date(t.getTime()+864e5),n={user:e,loginTime:t.toISOString(),expiryTime:r.toISOString()};return localStorage.setItem(l,JSON.stringify(n)),n}(r.user);a(n.user)}finally{m(!1)}};return(0,n.jsx)(u.Provider,{value:{user:r,loading:s,login:c,logout:()=>{localStorage.removeItem(l),a(null)}},children:t})}function s(){let e=(0,o.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2778:function(){}},function(e){e.O(0,[461,971,117,744],function(){return e(e.s=2741)}),_N_E=e.O()}]);