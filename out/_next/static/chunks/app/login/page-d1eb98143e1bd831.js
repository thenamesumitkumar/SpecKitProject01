(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2568:function(e,t,r){Promise.resolve().then(r.bind(r,8991))},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8991:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o},dynamic:function(){return i}});var s=r(7437),a=r(2265),n=r(9376),l=r(6148);let i="force-dynamic";function o(){let[e,t]=(0,a.useState)("employee@company.com"),[r,i]=(0,a.useState)("password123"),[o,m]=(0,a.useState)(""),[u,c]=(0,a.useState)(!1),d=(0,n.useRouter)(),{login:p}=(0,l.a)(),x=async t=>{t.preventDefault(),m(""),c(!0);try{await p(e,r),d.push("/ess")}catch(e){m(e instanceof Error?e.message:"Login failed. Please try again.")}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center px-4",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-8 shadow-lg",children:[(0,s.jsx)("h1",{className:"mb-6 text-center text-3xl font-bold text-gray-900",children:"HR & Payroll System"}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[o&&(0,s.jsx)("div",{className:"rounded-lg bg-red-50 p-4 text-red-700 text-sm",children:o}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"input w-full",placeholder:"employee@company.com",required:!0}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Demo: employee@company.com or admin@company.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),className:"input w-full",placeholder:"••••••••",required:!0}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Demo: password123 or admin123"})]}),(0,s.jsx)("button",{type:"submit",disabled:u,className:"btn-primary w-full disabled:opacity-50",children:u?"Signing in...":"Sign In"})]}),(0,s.jsxs)("div",{className:"mt-6 rounded-lg bg-blue-50 p-4 text-sm text-blue-900",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Demo Credentials:"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Employee:"})," employee@company.com / password123"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Admin:"})," admin@company.com / admin123"]})]})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Back to"," ",(0,s.jsx)("a",{href:"/",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Home"})]})]})})})}},6148:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return m}});var s=r(7437),a=r(2265);let n=[{email:"employee@company.com",password:"password123",role:"employee",name:"Demo Employee"},{email:"admin@company.com",password:"admin123",role:"admin",name:"Demo Admin"}],l="hr_payroll_session",i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o(function(){let e=localStorage.getItem(l);if(!e)return null;try{let t=JSON.parse(e);if(new Date(t.expiryTime)<new Date)return localStorage.removeItem(l),null;return t.user}catch(e){return null}}()),u(!1)},[]);let c=async(e,t)=>{u(!0);try{let r=function(e,t){let r=function(e,t){let r=n.find(r=>r.email===e&&r.password===t);return{valid:!!r,user:r}}(e,t);return r.valid&&r.user?{valid:!0,user:{id:e.split("@")[0].toUpperCase(),email:e,firstName:r.user.name.split(" ")[0],lastName:r.user.name.split(" ")[1]||"",role:r.user.role}}:{valid:!1}}(e,t);if(!r.valid||!r.user)throw Error("Invalid email or password");let s=function(e){let t=new Date,r=new Date(t.getTime()+864e5),s={user:e,loginTime:t.toISOString(),expiryTime:r.toISOString()};return localStorage.setItem(l,JSON.stringify(s)),s}(r.user);o(s.user)}finally{u(!1)}};return(0,s.jsx)(i.Provider,{value:{user:r,loading:m,login:c,logout:()=>{localStorage.removeItem(l),o(null)}},children:t})}function m(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2568)}),_N_E=e.O()}]);